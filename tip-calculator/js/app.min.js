(()=>{"use strict";const e={bill:0,peopleAmount:null,tipPercent:0,calculatedTipAmount:(0).toFixed(2),calculatedTotal:(0).toFixed(2),currency:"$",errors:{peopleAmount:!1,customPercent:!1}},t=document.querySelector("#bill"),o=document.querySelector("#number-of-people"),r=document.querySelectorAll(".percent-btn"),n=document.querySelector(".percent-custom-input"),l=document.querySelector(".number-of-people__error"),c=document.querySelector(".reset-btn"),u=document.querySelector(".tip-amount__quantity"),i=document.querySelector(".total__quantity");function p(t){e.peopleAmount>0?(u.firstChild.replaceWith(`${e.currency}${e.calculatedTipAmount}`),i.firstChild.replaceWith(`${e.currency}${e.calculatedTotal}`)):(u.firstChild.replaceWith(`${e.currency}${(0).toFixed(2)}`),i.firstChild.replaceWith(`${e.currency}${(0).toFixed(2)}`)),function(t){switch(t){case"peopleAmount":e.errors.peopleAmount?(l.classList.add("number-of-people__error_active"),o.style.outline="2px solid red"):(l.classList.remove("number-of-people__error_active"),o.style.outline="none");break;case"customPercent":e.errors.customPercent?n.style.outline="2px solid red":n.style.outline="none"}}(t)}function a(){e.calculatedTipAmount=(e.bill/100*e.tipPercent/e.peopleAmount).toFixed(2),e.calculatedTotal=((e.bill+e.bill/100*e.tipPercent)/e.peopleAmount).toFixed(2)}document.addEventListener("DOMContentLoaded",(()=>{t.addEventListener("input",(t=>{e.bill=+t.target.value,e.peopleAmount>0?a():e.errors.peopleAmount=!0,p("peopleAmount")})),function(){for(let t of r)t.addEventListener("click",(o=>{e.tipPercent=+o.target.name;for(let e of r)e.classList.remove("percent-btn_active");t.classList.add("percent-btn_active"),n.value="",e.peopleAmount>0?a():e.errors.peopleAmount=!0,p()}))}(),n.addEventListener("input",(t=>{if(+t.target.value>100)e.errors.customPercent=!0;else{e.errors.customPercent=!1,e.tipPercent=+t.target.value;for(let e of r)e.classList.remove("percent-btn_active");e.peopleAmount>0?a():e.errors.peopleAmount=!0}p("peopleAmount"),p("customPercent")})),o.addEventListener("input",(t=>{const o=+t.target.value;e.peopleAmount=o,e.peopleAmount>0?(e.errors.peopleAmount=!1,a()):e.errors.peopleAmount=!0,p("peopleAmount")})),c.addEventListener("click",(()=>{for(let e of r)e.classList.remove("percent-btn_active");e.bill=0,e.tipPercent=0,e.peopleAmount=null,e.calculatedTipAmount=(0).toFixed(2),e.calculatedTotal=(0).toFixed(2),a(),p(),l.classList.remove("number-of-people__error_active"),o.style.outline="none"}))})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();